import json


def get_versions(url: str):
    if "nodejs" in url:
        return EndOfLifeResponse("nodejs", 200)

    if "python" in url:
        return EndOfLifeResponse("python", 200)

    return EndOfLifeResponse("nodejs", 404)


class EndOfLifeResponse:
    status_code: int

    PRODUCTS = {
        "nodejs": [
            {
                "cycle": "21",
                "releaseDate": "2023-10-17",
                "support": "2024-04-01",
                "eol": "2024-06-01",
                "latest": "21.0.0",
                "latestReleaseDate": "2023-10-17",
                "lts": False,
            },
            {
                "cycle": "20",
                "releaseDate": "2023-04-18",
                "lts": "2023-10-24",
                "support": "2024-10-22",
                "eol": "2026-04-30",
                "latest": "20.8.1",
                "latestReleaseDate": "2023-10-13",
            },
            {
                "cycle": "19",
                "releaseDate": "2022-10-18",
                "support": "2023-04-01",
                "eol": "2023-06-01",
                "latest": "19.9.0",
                "latestReleaseDate": "2023-04-10",
                "lts": False,
            },
            {
                "cycle": "18",
                "releaseDate": "2022-04-19",
                "lts": "2022-10-25",
                "support": "2023-10-18",
                "eol": "2025-04-30",
                "latest": "18.18.2",
                "latestReleaseDate": "2023-10-13",
            },
            {
                "cycle": "17",
                "releaseDate": "2021-10-19",
                "support": "2022-04-01",
                "eol": "2022-06-01",
                "latest": "17.9.1",
                "latestReleaseDate": "2022-06-01",
                "lts": False,
            },
            {
                "cycle": "16",
                "releaseDate": "2021-04-20",
                "lts": "2021-10-26",
                "support": "2022-10-18",
                "eol": "2023-09-11",
                "latest": "16.20.2",
                "latestReleaseDate": "2023-08-09",
            },
            {
                "cycle": "15",
                "releaseDate": "2020-10-20",
                "support": "2021-04-01",
                "eol": "2021-06-01",
                "latest": "15.14.0",
                "latestReleaseDate": "2021-04-06",
                "lts": False,
            },
            {
                "cycle": "14",
                "releaseDate": "2020-04-21",
                "lts": "2020-10-27",
                "support": "2021-10-19",
                "eol": "2023-04-30",
                "latest": "14.21.3",
                "latestReleaseDate": "2023-02-16",
            },
            {
                "cycle": "13",
                "releaseDate": "2019-10-22",
                "support": "2020-04-01",
                "eol": "2020-06-01",
                "latest": "13.14.0",
                "latestReleaseDate": "2020-04-29",
                "lts": False,
            },
            {
                "cycle": "12",
                "releaseDate": "2019-04-23",
                "lts": "2019-10-21",
                "support": "2020-10-20",
                "eol": "2022-04-30",
                "latest": "12.22.12",
                "latestReleaseDate": "2022-04-05",
            },
            {
                "cycle": "11",
                "releaseDate": "2018-10-23",
                "support": "2019-04-01",
                "eol": "2019-06-30",
                "latest": "11.15.0",
                "latestReleaseDate": "2019-04-30",
                "lts": False,
            },
            {
                "cycle": "10",
                "releaseDate": "2018-04-24",
                "lts": "2018-10-30",
                "support": "2020-05-19",
                "eol": "2021-04-30",
                "latest": "10.24.1",
                "latestReleaseDate": "2021-04-06",
            },
            {
                "cycle": "9",
                "releaseDate": "2017-10-31",
                "support": "2018-06-30",
                "eol": "2018-06-30",
                "latest": "9.11.2",
                "latestReleaseDate": "2018-06-12",
                "lts": False,
            },
            {
                "cycle": "8",
                "releaseDate": "2017-05-30",
                "lts": "2017-10-31",
                "support": "2019-01-01",
                "eol": "2019-12-31",
                "latest": "8.17.0",
                "latestReleaseDate": "2019-12-17",
            },
            {
                "cycle": "7",
                "releaseDate": "2016-10-25",
                "support": "2017-06-30",
                "eol": "2017-06-30",
                "latest": "7.10.1",
                "latestReleaseDate": "2017-07-11",
                "lts": False,
            },
            {
                "cycle": "6",
                "releaseDate": "2016-04-26",
                "lts": "2016-10-18",
                "support": "2018-04-30",
                "eol": "2019-04-30",
                "latest": "6.17.1",
                "latestReleaseDate": "2019-04-03",
            },
            {
                "cycle": "5",
                "releaseDate": "2015-10-30",
                "support": "2016-06-30",
                "eol": "2016-06-30",
                "latest": "5.12.0",
                "latestReleaseDate": "2016-06-23",
                "lts": False,
            },
            {
                "cycle": "4",
                "releaseDate": "2015-09-09",
                "lts": "2015-10-01",
                "support": "2017-04-01",
                "eol": "2018-04-30",
                "latest": "4.9.1",
                "latestReleaseDate": "2018-03-29",
            },
            {
                "cycle": "3",
                "releaseDate": "2015-08-04",
                "support": False,
                "eol": True,
                "link": "https://github.com/nodejs/node/blob/main/doc/changelogs/CHANGELOG_IOJS.md#__LATEST__",
                "latest": "3.3.1",
                "latestReleaseDate": "2015-09-15",
                "lts": False,
            },
            {
                "cycle": "2",
                "releaseDate": "2015-05-04",
                "support": False,
                "eol": True,
                "link": "https://github.com/nodejs/node/blob/main/doc/changelogs/CHANGELOG_IOJS.md#__LATEST__",
                "latest": "2.5.0",
                "latestReleaseDate": "2015-07-28",
                "lts": False,
            },
            {
                "cycle": "1",
                "releaseDate": "2015-01-20",
                "support": False,
                "eol": True,
                "link": "https://github.com/nodejs/node/blob/main/doc/changelogs/CHANGELOG_IOJS.md#__LATEST__",
                "latest": "1.8.4",
                "latestReleaseDate": "2015-07-09",
                "lts": False,
            },
        ],
        "python": [
            {
                "cycle": "3.12",
                "releaseDate": "2023-10-02",
                "support": "2025-04-02",
                "eol": "2028-10-02",
                "latest": "3.12.0",
                "latestReleaseDate": "2023-10-02",
                "lts": False,
            },
            {
                "cycle": "3.11",
                "releaseDate": "2022-10-24",
                "support": "2024-04-01",
                "eol": "2027-10-24",
                "latest": "3.11.6",
                "latestReleaseDate": "2023-10-02",
                "lts": False,
            },
            {
                "cycle": "3.10",
                "releaseDate": "2021-10-04",
                "support": "2023-04-05",
                "eol": "2026-10-04",
                "latest": "3.10.13",
                "latestReleaseDate": "2023-08-24",
                "lts": False,
            },
            {
                "cycle": "3.9",
                "releaseDate": "2020-10-05",
                "support": "2022-05-17",
                "eol": "2025-10-05",
                "latest": "3.9.18",
                "latestReleaseDate": "2023-08-24",
                "lts": False,
            },
            {
                "cycle": "3.8",
                "releaseDate": "2019-10-14",
                "support": "2021-05-03",
                "eol": "2024-10-14",
                "latest": "3.8.18",
                "latestReleaseDate": "2023-08-24",
                "lts": False,
            },
            {
                "cycle": "3.7",
                "releaseDate": "2018-06-26",
                "support": "2020-06-27",
                "eol": "2023-06-27",
                "latest": "3.7.17",
                "latestReleaseDate": "2023-06-05",
                "lts": False,
            },
            {
                "cycle": "3.6",
                "releaseDate": "2016-12-22",
                "support": "2018-12-24",
                "eol": "2021-12-23",
                "latest": "3.6.15",
                "latestReleaseDate": "2021-09-03",
                "lts": False,
            },
            {
                "cycle": "3.5",
                "releaseDate": "2015-09-12",
                "support": False,
                "eol": "2020-09-13",
                "latest": "3.5.10",
                "latestReleaseDate": "2020-09-05",
                "lts": False,
            },
            {
                "cycle": "3.4",
                "releaseDate": "2014-03-15",
                "support": False,
                "eol": "2019-03-18",
                "latest": "3.4.10",
                "latestReleaseDate": "2019-03-18",
                "lts": False,
            },
            {
                "cycle": "3.3",
                "releaseDate": "2012-09-29",
                "support": False,
                "eol": "2017-09-29",
                "latest": "3.3.7",
                "latestReleaseDate": "2017-09-19",
                "lts": False,
            },
            {
                "cycle": "2.7",
                "releaseDate": "2010-07-03",
                "support": False,
                "eol": "2020-01-01",
                "latest": "2.7.18",
                "latestReleaseDate": "2020-04-19",
                "lts": False,
            },
            {
                "cycle": "2.6",
                "releaseDate": "2008-10-01",
                "support": False,
                "eol": "2013-10-29",
                "latest": "2.6.9",
                "latestReleaseDate": "2013-10-29",
                "lts": False,
            },
        ],
    }

    def __init__(self, product: str, status_code: int):
        self.status_code = status_code
        self.content = json.dumps(self.PRODUCTS[product]).encode()
